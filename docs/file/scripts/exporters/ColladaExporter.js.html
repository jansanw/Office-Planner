<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">scripts/exporters/ColladaExporter.js | blueprint3d-js</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="This is the core framework of Blueprint-js for creating floorplans in 2d and 3d"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="blueprint3d-js"><meta property="twitter:description" content="This is the core framework of Blueprint-js for creating floorplans in 2d and 3d"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/blueprint.js~BlueprintJS.html">BlueprintJS</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#core">core</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/core/configuration.js~Configuration.html">Configuration</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/core/dimensioning.js~Dimensioning.html">Dimensioning</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/core/utils.js~Utils.html">Utils</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/core/version.js~Version.html">Version</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isLogging">isLogging</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-log">log</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-config">config</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-configDimUnit">configDimUnit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-configWallHeight">configWallHeight</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-configWallThickness">configWallThickness</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-VIEW_FRONT">VIEW_FRONT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-VIEW_ISOMETRY">VIEW_ISOMETRY</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-VIEW_LEFT">VIEW_LEFT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-VIEW_RIGHT">VIEW_RIGHT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-VIEW_TOP">VIEW_TOP</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-cmPerFoot">cmPerFoot</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-cmPerPixel">cmPerPixel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-decimals">decimals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-dimCentiMeter">dimCentiMeter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-dimFeetAndInch">dimFeetAndInch</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-dimInch">dimInch</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-dimMeter">dimMeter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-dimMilliMeter">dimMilliMeter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-dimensioningOptions">dimensioningOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-pixelsPerCm">pixelsPerCm</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-pixelsPerFoot">pixelsPerFoot</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ACTION">EVENT_ACTION</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_CAMERA_ACTIVE_STATUS">EVENT_CAMERA_ACTIVE_STATUS</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_CAMERA_MOVED">EVENT_CAMERA_MOVED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_CAMERA_VIEW_CHANGE">EVENT_CAMERA_VIEW_CHANGE</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_CHANGED">EVENT_CHANGED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_CORNER_2D_CLICKED">EVENT_CORNER_2D_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_CORNER_2D_DOUBLE_CLICKED">EVENT_CORNER_2D_DOUBLE_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_CORNER_2D_HOVER">EVENT_CORNER_2D_HOVER</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_DELETED">EVENT_DELETED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_FLOOR_CLICKED">EVENT_FLOOR_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_FPS_EXIT">EVENT_FPS_EXIT</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_GLTF_READY">EVENT_GLTF_READY</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ITEM_LOADED">EVENT_ITEM_LOADED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ITEM_LOADING">EVENT_ITEM_LOADING</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ITEM_REMOVED">EVENT_ITEM_REMOVED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ITEM_SELECTED">EVENT_ITEM_SELECTED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ITEM_UNSELECTED">EVENT_ITEM_UNSELECTED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_LOADED">EVENT_LOADED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_LOADING">EVENT_LOADING</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_MODE_RESET">EVENT_MODE_RESET</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_MOVED">EVENT_MOVED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_NEW">EVENT_NEW</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_NOTHING_CLICKED">EVENT_NOTHING_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_REDRAW">EVENT_REDRAW</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ROOM_2D_CLICKED">EVENT_ROOM_2D_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ROOM_2D_DOUBLE_CLICKED">EVENT_ROOM_2D_DOUBLE_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ROOM_2D_HOVER">EVENT_ROOM_2D_HOVER</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ROOM_CLICKED">EVENT_ROOM_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_ROOM_NAME_CHANGED">EVENT_ROOM_NAME_CHANGED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_SAVED">EVENT_SAVED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_UPDATED">EVENT_UPDATED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_WALL_2D_CLICKED">EVENT_WALL_2D_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_WALL_2D_DOUBLE_CLICKED">EVENT_WALL_2D_DOUBLE_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_WALL_2D_HOVER">EVENT_WALL_2D_HOVER</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EVENT_WALL_CLICKED">EVENT_WALL_CLICKED</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ELogContext">ELogContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ELogLevel">ELogLevel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-logContext">logContext</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#exporters">exporters</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-OBJExporter">OBJExporter</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#floorplanner">floorplanner</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/floorplanner/carbonsheet.js~CarbonSheet.html">CarbonSheet</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/floorplanner/floorplanner.js~Floorplanner2D.html">Floorplanner2D</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/floorplanner/floorplanner_view.js~FloorplannerView2D.html">FloorplannerView2D</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-snapTolerance">snapTolerance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-cornerColor">cornerColor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-cornerColorHover">cornerColorHover</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-cornerRadius">cornerRadius</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-cornerRadiusHover">cornerRadiusHover</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-deleteColor">deleteColor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-edgeColor">edgeColor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-edgeColorHover">edgeColorHover</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-edgeWidth">edgeWidth</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-floorplannerModes">floorplannerModes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-gridColor">gridColor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-gridSpacing">gridSpacing</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-gridWidth">gridWidth</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-roomColor">roomColor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-wallColor">wallColor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-wallColorHover">wallColorHover</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-wallWidth">wallWidth</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-wallWidthHover">wallWidthHover</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#items">items</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/factory.js~Factory.html">Factory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/floor_item.js~FloorItem.html">FloorItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/in_wall_floor_item.js~InWallFloorItem.html">InWallFloorItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/in_wall_item.js~InWallItem.html">InWallItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/item.js~Item.html">Item</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/metadata.js~Metadata.html">Metadata</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/on_floor_item.js~OnFloorItem.html">OnFloorItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/roof_item.js~RoofItem.html">RoofItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/wall_floor_item.js~WallFloorItem.html">WallFloorItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/items/wall_item.js~WallItem.html">WallItem</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-item_types">item_types</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#model">model</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/model/corner.js~Corner.html">Corner</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/model/floorplan.js~Floorplan.html">Floorplan</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/model/half_edge.js~HalfEdge.html">HalfEdge</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/model/model.js~Model.html">Model</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/model/room.js~Room.html">Room</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/model/scene.js~Scene.html">Scene</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/model/wall.js~Wall.html">Wall</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-cornerTolerance">cornerTolerance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-defaultFloorPlanTolerance">defaultFloorPlanTolerance</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-defaultRoomTexture">defaultRoomTexture</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-defaultWallTexture">defaultWallTexture</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#three">three</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/controller.js~Controller.html">Controller</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/controls.js~Controls.html">Controls</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/edge.js~Edge.html">Edge</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/first-person-controls.js~FirstPersonControls.html">FirstPersonControls</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/floor.js~Floor.html">Floor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/floorPlan.js~Floorplan3D.html">Floorplan3D</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/hud.js~HUD.html">HUD</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/lights.js~Lights.html">Lights</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/main.js~Main.html">Main</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/scripts/three/skybox.js~Skybox.html">Skybox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-OrbitControls">OrbitControls</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-PointerLockControls">PointerLockControls</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-states">states</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-STATE">STATE</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">scripts/exporters/ColladaExporter.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 * @author Garrett Johnson / http://gkjohnson.github.io/
 * https://github.com/gkjohnson/collada-exporter-js
 *
 * Usage:
 *  var exporter = new THREE.ColladaExporter();
 *
 *  var data = exporter.parse(mesh);
 *
 * Format Definition:
 *  https://www.khronos.org/collada/
 */

THREE.ColladaExporter = function () {};

THREE.ColladaExporter.prototype = {

	constructor: THREE.ColladaExporter,

	parse: function ( object, onDone, options = {} ) {

		options = Object.assign( {
			version: &apos;1.4.1&apos;,
			author: null,
			textureDirectory: &apos;&apos;,
		}, options );

		if ( options.textureDirectory !== &apos;&apos; ) {

			options.textureDirectory = `${ options.textureDirectory }/`
				.replace( /\\/g, &apos;/&apos; )
				.replace( /\/+/g, &apos;/&apos; );

		}

		var version = options.version;
		if ( version !== &apos;1.4.1&apos; &amp;&amp; version !== &apos;1.5.0&apos; ) {

			console.warn( `ColladaExporter : Version ${ version } not supported for export. Only 1.4.1 and 1.5.0.` );
			return null;

		}

		// Convert the urdf xml into a well-formatted, indented format
		function format( urdf ) {

			var IS_END_TAG = /^&lt;\//;
			var IS_SELF_CLOSING = /(\?&gt;$)|(\/&gt;$)/;
			var HAS_TEXT = /&lt;[^&gt;]+&gt;[^&lt;]*&lt;\/[^&lt;]+&gt;/;

			var pad = ( ch, num ) =&gt; ( num &gt; 0 ? ch + pad( ch, num - 1 ) : &apos;&apos; );

			var tagnum = 0;
			return urdf
				.match( /(&lt;[^&gt;]+&gt;[^&lt;]+&lt;\/[^&lt;]+&gt;)|(&lt;[^&gt;]+&gt;)/g )
				.map( tag =&gt; {

					if ( ! HAS_TEXT.test( tag ) &amp;&amp; ! IS_SELF_CLOSING.test( tag ) &amp;&amp; IS_END_TAG.test( tag ) ) {

						tagnum --;

					}

					var res = `${ pad( &apos;  &apos;, tagnum ) }${ tag }`;

					if ( ! HAS_TEXT.test( tag ) &amp;&amp; ! IS_SELF_CLOSING.test( tag ) &amp;&amp; ! IS_END_TAG.test( tag ) ) {

						tagnum ++;

					}

					return res;

				} )
				.join( &apos;\n&apos; );

		}

		// Convert an image into a png format for saving
		function base64ToBuffer( str ) {

			var b = atob( str );
			var buf = new Uint8Array( b.length );

			for ( var i = 0, l = buf.length; i &lt; l; i ++ ) {

				buf[ i ] = b.charCodeAt( i );

			}

			return buf;

		}

		var canvas, ctx;
		function imageToData( image, ext ) {

			canvas = canvas || document.createElement( &apos;canvas&apos; );
			ctx = ctx || canvas.getContext( &apos;2d&apos; );

			canvas.width = image.naturalWidth;
			canvas.height = image.naturalHeight;

			ctx.drawImage( image, 0, 0 );

			// Get the base64 encoded data
			var base64data = canvas
				.toDataURL( `image/${ ext }`, 1 )
				.replace( /^data:image\/(png|jpg);base64,/, &apos;&apos; );

			// Convert to a uint8 array
			return base64ToBuffer( base64data );

		}

		// gets the attribute array. Generate a new array if the attribute is interleaved
		var getFuncs = [ &apos;getX&apos;, &apos;getY&apos;, &apos;getZ&apos;, &apos;getW&apos; ];
		function attrBufferToArray( attr ) {

			if ( attr.isInterleavedBufferAttribute ) {

				// use the typed array constructor to save on memory
				var arr = new attr.array.constructor( attr.count * attr.itemSize );
				var size = attr.itemSize;
				for ( var i = 0, l = attr.count; i &lt; l; i ++ ) {

					for ( var j = 0; j &lt; size; j ++ ) {

						arr[ i * size + j ] = attr[ getFuncs[ j ] ]( i );

					}

				}

				return arr;

			} else {

				return attr.array;

			}

		}

		// Returns an array of the same type starting at the `st` index,
		// and `ct` length
		function subArray( arr, st, ct ) {

			if ( Array.isArray( arr ) ) return arr.slice( st, st + ct );
			else return new arr.constructor( arr.buffer, st * arr.BYTES_PER_ELEMENT, ct );

		}

		// Returns the string for a geometry&apos;s attribute
		function getAttribute( attr, name, params, type ) {

			var array = attrBufferToArray( attr );
			var res =
					`&lt;source id=&quot;${ name }&quot;&gt;` +

					`&lt;float_array id=&quot;${ name }-array&quot; count=&quot;${ array.length }&quot;&gt;` +
					array.join( &apos; &apos; ) +
					&apos;&lt;/float_array&gt;&apos; +

					&apos;&lt;technique_common&gt;&apos; +
					`&lt;accessor source=&quot;#${ name }-array&quot; count=&quot;${ Math.floor( array.length / attr.itemSize ) }&quot; stride=&quot;${ attr.itemSize }&quot;&gt;` +

					params.map( n =&gt; `&lt;param name=&quot;${ n }&quot; type=&quot;${ type }&quot; /&gt;` ).join( &apos;&apos; ) +

					&apos;&lt;/accessor&gt;&apos; +
					&apos;&lt;/technique_common&gt;&apos; +
					&apos;&lt;/source&gt;&apos;;

			return res;

		}

		// Returns the string for a node&apos;s transform information
		var transMat;
		function getTransform( o ) {

			// ensure the object&apos;s matrix is up to date
			// before saving the transform
			o.updateMatrix();

			transMat = transMat || new THREE.Matrix4();
			transMat.copy( o.matrix );
			transMat.transpose();
			return `&lt;matrix&gt;${ transMat.toArray().join( &apos; &apos; ) }&lt;/matrix&gt;`;

		}

		// Process the given piece of geometry into the geometry library
		// Returns the mesh id
		function processGeometry( g ) {

			var info = geometryInfo.get( g );

			if ( ! info ) {

				// convert the geometry to bufferGeometry if it isn&apos;t already
				var bufferGeometry = g;
				if ( bufferGeometry instanceof THREE.Geometry ) {

					bufferGeometry = ( new THREE.BufferGeometry() ).fromGeometry( bufferGeometry );

				}

				var meshid = `Mesh${ libraryGeometries.length + 1 }`;

				var indexCount =
					bufferGeometry.index ?
						bufferGeometry.index.count * bufferGeometry.index.itemSize :
						bufferGeometry.attributes.position.count;

				var groups =
					bufferGeometry.groups != null &amp;&amp; bufferGeometry.groups.length !== 0 ?
						bufferGeometry.groups :
						[ { start: 0, count: indexCount, materialIndex: 0 } ];

				var gnode = `&lt;geometry id=&quot;${ meshid }&quot; name=&quot;${ g.name }&quot;&gt;&lt;mesh&gt;`;

				// define the geometry node and the vertices for the geometry
				var posName = `${ meshid }-position`;
				var vertName = `${ meshid }-vertices`;
				gnode += getAttribute( bufferGeometry.attributes.position, posName, [ &apos;X&apos;, &apos;Y&apos;, &apos;Z&apos; ], &apos;float&apos; );
				gnode += `&lt;vertices id=&quot;${ vertName }&quot;&gt;&lt;input semantic=&quot;POSITION&quot; source=&quot;#${ posName }&quot; /&gt;&lt;/vertices&gt;`;

				// NOTE: We&apos;re not optimizing the attribute arrays here, so they&apos;re all the same length and
				// can therefore share the same triangle indices. However, MeshLab seems to have trouble opening
				// models with attributes that share an offset.
				// MeshLab Bug#424: https://sourceforge.net/p/meshlab/bugs/424/

				// serialize normals
				var triangleInputs = `&lt;input semantic=&quot;VERTEX&quot; source=&quot;#${ vertName }&quot; offset=&quot;0&quot; /&gt;`;
				if ( &apos;normal&apos; in bufferGeometry.attributes ) {

					var normName = `${ meshid }-normal`;
					gnode += getAttribute( bufferGeometry.attributes.normal, normName, [ &apos;X&apos;, &apos;Y&apos;, &apos;Z&apos; ], &apos;float&apos; );
					triangleInputs += `&lt;input semantic=&quot;NORMAL&quot; source=&quot;#${ normName }&quot; offset=&quot;0&quot; /&gt;`;

				}

				// serialize uvs
				if ( &apos;uv&apos; in bufferGeometry.attributes ) {

					var uvName = `${ meshid }-texcoord`;
					gnode += getAttribute( bufferGeometry.attributes.uv, uvName, [ &apos;S&apos;, &apos;T&apos; ], &apos;float&apos; );
					triangleInputs += `&lt;input semantic=&quot;TEXCOORD&quot; source=&quot;#${ uvName }&quot; offset=&quot;0&quot; set=&quot;0&quot; /&gt;`;

				}

				// serialize colors
				if ( &apos;color&apos; in bufferGeometry.attributes ) {

					var colName = `${ meshid }-color`;
					gnode += getAttribute( bufferGeometry.attributes.color, colName, [ &apos;X&apos;, &apos;Y&apos;, &apos;Z&apos; ], &apos;uint8&apos; );
					triangleInputs += `&lt;input semantic=&quot;COLOR&quot; source=&quot;#${ colName }&quot; offset=&quot;0&quot; /&gt;`;

				}

				var indexArray = null;
				if ( bufferGeometry.index ) {

					indexArray = attrBufferToArray( bufferGeometry.index );

				} else {

					indexArray = new Array( indexCount );
					for ( var i = 0, l = indexArray.length; i &lt; l; i ++ ) indexArray[ i ] = i;

				}

				for ( var i = 0, l = groups.length; i &lt; l; i ++ ) {

					var group = groups[ i ];
					var subarr = subArray( indexArray, group.start, group.count );
					var polycount = subarr.length / 3;
					gnode += `&lt;triangles material=&quot;MESH_MATERIAL_${ group.materialIndex }&quot; count=&quot;${ polycount }&quot;&gt;`;
					gnode += triangleInputs;

					gnode += `&lt;p&gt;${ subarr.join( &apos; &apos; ) }&lt;/p&gt;`;
					gnode += &apos;&lt;/triangles&gt;&apos;;

				}

				gnode += `&lt;/mesh&gt;&lt;/geometry&gt;`;

				libraryGeometries.push( gnode );

				info = { meshid: meshid, bufferGeometry: bufferGeometry };
				geometryInfo.set( g, info );

			}

			return info;

		}

		// Process the given texture into the image library
		// Returns the image library
		function processTexture( tex ) {

			var texid = imageMap.get( tex );
			if ( texid == null ) {

				texid = `image-${ libraryImages.length + 1 }`;

				var ext = &apos;png&apos;;
				var name = tex.name || texid;
				var imageNode = `&lt;image id=&quot;${ texid }&quot; name=&quot;${ name }&quot;&gt;`;

				if ( version === &apos;1.5.0&apos; ) {

					imageNode += `&lt;init_from&gt;&lt;ref&gt;${ options.textureDirectory }${ name }.${ ext }&lt;/ref&gt;&lt;/init_from&gt;`;

				} else {

					// version image node 1.4.1
					imageNode += `&lt;init_from&gt;${ options.textureDirectory }${ name }.${ ext }&lt;/init_from&gt;`;

				}

				imageNode += &apos;&lt;/image&gt;&apos;;

				libraryImages.push( imageNode );
				imageMap.set( tex, texid );
				textures.push( {
					directory: options.textureDirectory,
					name,
					ext,
					data: imageToData( tex.image, ext ),
					original: tex
				} );

			}

			return texid;

		}

		// Process the given material into the material and effect libraries
		// Returns the material id
		function processMaterial( m ) {

			var matid = materialMap.get( m );

			if ( matid == null ) {

				matid = `Mat${ libraryEffects.length + 1 }`;

				var type = &apos;phong&apos;;

				if ( m instanceof THREE.MeshLambertMaterial ) {

					type = &apos;lambert&apos;;

				} else if ( m instanceof THREE.MeshBasicMaterial ) {

					type = &apos;constant&apos;;

				}

				var emissive = m.emissive ? m.emissive : new THREE.Color( 0, 0, 0 );
				var diffuse = m.color ? m.color : new THREE.Color( 0, 0, 0 );
				var specular = m.specular ? m.specular : new THREE.Color( 1, 1, 1 );
				var shininess = m.shininess || 0;
				var reflectivity = m.reflectivity || 0;

				// Do not export and alpha map for the reasons mentioned in issue (#13792)
				// in THREE.js alpha maps are black and white, but collada expects the alpha
				// channel to specify the transparency
				var transparencyNode = &apos;&apos;;
				if ( m.transparent === true ) {

					transparencyNode +=
						`&lt;transparent&gt;` +
						(
							m.map ?
								`&lt;texture texture=&quot;diffuse-sampler&quot;&gt;&lt;/texture&gt;` :
								&apos;&lt;float&gt;1&lt;/float&gt;&apos;
						) +
						&apos;&lt;/transparent&gt;&apos;;

					if ( m.opacity &lt; 1 ) {

						transparencyNode += `&lt;transparency&gt;&lt;float&gt;${ m.opacity }&lt;/float&gt;&lt;/transparency&gt;`;

					}

				}

				var techniqueNode = `&lt;technique sid=&quot;common&quot;&gt;&lt;${ type }&gt;` +

					&apos;&lt;emission&gt;&apos; +

					(
						m.emissiveMap ?
							&apos;&lt;texture texture=&quot;emissive-sampler&quot; texcoord=&quot;TEXCOORD&quot; /&gt;&apos; :
							`&lt;color sid=&quot;emission&quot;&gt;${ emissive.r } ${ emissive.g } ${ emissive.b } 1&lt;/color&gt;`
					) +

					&apos;&lt;/emission&gt;&apos; +

					&apos;&lt;diffuse&gt;&apos; +

					(
						m.map ?
							&apos;&lt;texture texture=&quot;diffuse-sampler&quot; texcoord=&quot;TEXCOORD&quot; /&gt;&apos; :
							`&lt;color sid=&quot;diffuse&quot;&gt;${ diffuse.r } ${ diffuse.g } ${ diffuse.b } 1&lt;/color&gt;`
					) +

					&apos;&lt;/diffuse&gt;&apos; +

					`&lt;specular&gt;&lt;color sid=&quot;specular&quot;&gt;${ specular.r } ${ specular.g } ${ specular.b } 1&lt;/color&gt;&lt;/specular&gt;` +

					&apos;&lt;shininess&gt;&apos; +

					(
						m.specularMap ?
							&apos;&lt;texture texture=&quot;specular-sampler&quot; texcoord=&quot;TEXCOORD&quot; /&gt;&apos; :
							`&lt;float sid=&quot;shininess&quot;&gt;${ shininess }&lt;/float&gt;`
					) +

					&apos;&lt;/shininess&gt;&apos; +

					`&lt;reflective&gt;&lt;color&gt;${ diffuse.r } ${ diffuse.g } ${ diffuse.b } 1&lt;/color&gt;&lt;/reflective&gt;` +

					`&lt;reflectivity&gt;&lt;float&gt;${ reflectivity }&lt;/float&gt;&lt;/reflectivity&gt;` +

					transparencyNode +

					`&lt;/${ type }&gt;&lt;/technique&gt;`;

				var effectnode =
					`&lt;effect id=&quot;${ matid }-effect&quot;&gt;` +
					&apos;&lt;profile_COMMON&gt;&apos; +

					(
						m.map ?
							&apos;&lt;newparam sid=&quot;diffuse-surface&quot;&gt;&lt;surface type=&quot;2D&quot;&gt;&apos; +
							`&lt;init_from&gt;${ processTexture( m.map ) }&lt;/init_from&gt;` +
							&apos;&lt;/surface&gt;&lt;/newparam&gt;&apos; +
							&apos;&lt;newparam sid=&quot;diffuse-sampler&quot;&gt;&lt;sampler2D&gt;&lt;source&gt;diffuse-surface&lt;/source&gt;&lt;/sampler2D&gt;&lt;/newparam&gt;&apos; :
							&apos;&apos;
					) +

					(
						m.specularMap ?
							&apos;&lt;newparam sid=&quot;specular-surface&quot;&gt;&lt;surface type=&quot;2D&quot;&gt;&apos; +
							`&lt;init_from&gt;${ processTexture( m.specularMap ) }&lt;/init_from&gt;` +
							&apos;&lt;/surface&gt;&lt;/newparam&gt;&apos; +
							&apos;&lt;newparam sid=&quot;specular-sampler&quot;&gt;&lt;sampler2D&gt;&lt;source&gt;specular-surface&lt;/source&gt;&lt;/sampler2D&gt;&lt;/newparam&gt;&apos; :
							&apos;&apos;
					) +

					(
						m.emissiveMap ?
							&apos;&lt;newparam sid=&quot;emissive-surface&quot;&gt;&lt;surface type=&quot;2D&quot;&gt;&apos; +
							`&lt;init_from&gt;${ processTexture( m.emissiveMap ) }&lt;/init_from&gt;` +
							&apos;&lt;/surface&gt;&lt;/newparam&gt;&apos; +
							&apos;&lt;newparam sid=&quot;emissive-sampler&quot;&gt;&lt;sampler2D&gt;&lt;source&gt;emissive-surface&lt;/source&gt;&lt;/sampler2D&gt;&lt;/newparam&gt;&apos; :
							&apos;&apos;
					) +

					techniqueNode +

					(
						m.side === THREE.DoubleSide ?
							`&lt;extra&gt;&lt;technique&gt;&lt;double_sided sid=&quot;double_sided&quot; type=&quot;int&quot;&gt;1&lt;/double_sided&gt;&lt;/technique&gt;&lt;/extra&gt;` :
							&apos;&apos;
					) +

					&apos;&lt;/profile_COMMON&gt;&apos; +

					&apos;&lt;/effect&gt;&apos;;

				libraryMaterials.push( `&lt;material id=&quot;${ matid }&quot; name=&quot;${ m.name }&quot;&gt;&lt;instance_effect url=&quot;#${ matid }-effect&quot; /&gt;&lt;/material&gt;` );
				libraryEffects.push( effectnode );
				materialMap.set( m, matid );

			}

			return matid;

		}

		// Recursively process the object into a scene
		function processObject( o ) {

			var node = `&lt;node name=&quot;${ o.name }&quot;&gt;`;

			node += getTransform( o );

			if ( o instanceof THREE.Mesh &amp;&amp; o.geometry != null ) {

				// function returns the id associated with the mesh and a &quot;BufferGeometry&quot; version
				// of the geometry in case it&apos;s not a geometry.
				var geomInfo = processGeometry( o.geometry );
				var meshid = geomInfo.meshid;
				var geometry = geomInfo.bufferGeometry;

				// ids of the materials to bind to the geometry
				var matids = null;

				// get a list of materials to bind to the sub groups of the geometry.
				// If the amount of subgroups is greater than the materials, than reuse
				// the materials.
				var mat = o.material || new THREE.MeshBasicMaterial();
				var materials = Array.isArray( mat ) ? mat : [ mat ];
				matids = new Array( geometry.groups.length )
					.fill()
					.map( ( v, i ) =&gt; processMaterial( materials[ i % materials.length ] ) );


				node +=
					`&lt;instance_geometry url=&quot;#${ meshid }&quot;&gt;` +

					(
						matids != null ?
							&apos;&lt;bind_material&gt;&lt;technique_common&gt;&apos; +
							matids.map( ( id, i ) =&gt;

								`&lt;instance_material symbol=&quot;MESH_MATERIAL_${ i }&quot; target=&quot;#${ id }&quot; &gt;` +

								&apos;&lt;bind_vertex_input semantic=&quot;TEXCOORD&quot; input_semantic=&quot;TEXCOORD&quot; input_set=&quot;0&quot; /&gt;&apos; +

								&apos;&lt;/instance_material&gt;&apos;
							).join( &apos;&apos; ) +
							&apos;&lt;/technique_common&gt;&lt;/bind_material&gt;&apos; :
							&apos;&apos;
					) +

					&apos;&lt;/instance_geometry&gt;&apos;;

			}

			o.children.forEach( c =&gt; node += processObject( c ) );

			node += &apos;&lt;/node&gt;&apos;;

			return node;

		}

		var geometryInfo = new WeakMap();
		var materialMap = new WeakMap();
		var imageMap = new WeakMap();
		var textures = [];

		var libraryImages = [];
		var libraryGeometries = [];
		var libraryEffects = [];
		var libraryMaterials = [];
		var libraryVisualScenes = processObject( object );

		var specLink = version === &apos;1.4.1&apos; ? &apos;http://www.collada.org/2005/11/COLLADASchema&apos; : &apos;https://www.khronos.org/collada/&apos;;
		var dae =
			&apos;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt;&apos; +
			`&lt;COLLADA xmlns=&quot;${ specLink }&quot; version=&quot;${ version }&quot;&gt;` +
			&apos;&lt;asset&gt;&apos; +
			(
				&apos;&lt;contributor&gt;&apos; +
				&apos;&lt;authoring_tool&gt;THREE.js Collada Exporter&lt;/authoring_tool&gt;&apos; +
				( options.author !== null ? `&lt;author&gt;${ options.author }&lt;/author&gt;` : &apos;&apos; ) +
				&apos;&lt;/contributor&gt;&apos; +
				`&lt;created&gt;${ ( new Date() ).toISOString() }&lt;/created&gt;` +
				`&lt;modified&gt;${ ( new Date() ).toISOString() }&lt;/modified&gt;` +
				&apos;&lt;up_axis&gt;Y_UP&lt;/up_axis&gt;&apos;
			) +
			&apos;&lt;/asset&gt;&apos;;

		dae += `&lt;library_images&gt;${ libraryImages.join( &apos;&apos; ) }&lt;/library_images&gt;`;

		dae += `&lt;library_effects&gt;${ libraryEffects.join( &apos;&apos; ) }&lt;/library_effects&gt;`;

		dae += `&lt;library_materials&gt;${ libraryMaterials.join( &apos;&apos; ) }&lt;/library_materials&gt;`;

		dae += `&lt;library_geometries&gt;${ libraryGeometries.join( &apos;&apos; ) }&lt;/library_geometries&gt;`;

		dae += `&lt;library_visual_scenes&gt;&lt;visual_scene id=&quot;Scene&quot; name=&quot;scene&quot;&gt;${ libraryVisualScenes }&lt;/visual_scene&gt;&lt;/library_visual_scenes&gt;`;

		dae += &apos;&lt;scene&gt;&lt;instance_visual_scene url=&quot;#Scene&quot;/&gt;&lt;/scene&gt;&apos;;

		dae += &apos;&lt;/COLLADA&gt;&apos;;

		var res = {
			data: format( dae ),
			textures
		};

		if ( typeof onDone === &apos;function&apos; ) {

			requestAnimationFrame( () =&gt; onDone( res ) );

		}

		return res;

	}

};
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
